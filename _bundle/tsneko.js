!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.tsneko=e():t.tsneko=e()}(this,(function(){return function(t){var e={};function s(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,s),r.l=!0,r.exports}return s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(i,r,function(e){return t[e]}.bind(null,r));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var s in t)e.hasOwnProperty(s)||(e[s]=t[s])}(s(1));var i=s(2);e.runWeb=i.run,e.runWebDefault=i.runDefault},function(t,e,s){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,s=1,i=arguments.length;s<i;s++)for(var r in e=arguments[s])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){return Math.floor(Math.random()*(e-t+1))+t};e.defaultConfig={speed:10,radius:10,ticksBeforeItch:function(){return r(7,14)},ticksBeforeScratch:function(){return r(7,14)},ticksBeforeYawn:function(){return r(20,40)},scratchDirection:function(){return{1:"s",2:"w",3:"e",4:"n"}[Math.floor(4*Math.random())+1]}},e.defaultNeko=function(){return new a(e.defaultConfig)};var a=function(){function t(t){var e=this;this.state={name:"still",x:0,y:0,ticksBeforeItch:5,ticksBeforeScratch:5,ticksBeforeYawn:10},this.update=function(t,s){"still"==e.state.name?e.updateStill(t,s):"itch"==e.state.name?e.updateItch(t,s):"alert"==e.state.name?e.updateAlert(t,s):"run"==e.state.name?e.updateRun(t,s):"scratch"==e.state.name?e.updateScratch(t,s):"yawn"==e.state.name?e.updateYawn(t,s):"sleep"==e.state.name&&e.updateSleep(t,s)},this.config=i({},t),this.state.ticksBeforeItch=t.ticksBeforeItch(),this.state.ticksBeforeScratch=t.ticksBeforeScratch(),this.state.ticksBeforeYawn=t.ticksBeforeYawn()}return Object.defineProperty(t.prototype,"img",{get:function(){return""+(this.state.direction?this.state.direction:"")+this.state.name+(this.state.tick?this.state.tick:"")},enumerable:!0,configurable:!0}),t.prototype.updateSleep=function(t,e){if(this.checkState("sleep"),!this.cursorClose(t,e))return this.state.name="alert",this.state.tick=null,this.state.ticksBeforeItch=this.config.ticksBeforeItch(),void(this.state.ticksBeforeScratch=this.config.ticksBeforeScratch());this.state.tick=1===this.state.tick?2:1},t.prototype.updateYawn=function(t,e){if(this.checkState("yawn"),!this.cursorClose(t,e))return this.state.name="alert",void(this.state.framesYawn=null);this.state.framesYawn-1==0&&(this.state.name="sleep",this.state.tick=1,this.state.framesYawn=null,this.state.ticksBeforeYawn=this.config.ticksBeforeYawn()),this.state.framesYawn-=1},t.prototype.updateScratch=function(t,e){return this.checkState("scratch"),this.cursorClose(t,e)?this.state.framesScratch-1==0?(this.state.name="still",this.state.tick=null,this.state.framesScratch=null,this.state.ticksBeforeScratch=this.config.ticksBeforeScratch(),void(this.state.direction=null)):(this.state.framesScratch-=1,void(this.state.tick=1===this.state.tick?2:1)):(this.state.name="alert",this.state.tick=null,this.state.framesScratch=null,this.state.ticksBeforeScratch=this.config.ticksBeforeScratch(),void(this.state.direction=null))},t.prototype.updateStill=function(t,e){return this.checkState("still"),this.cursorClose(t,e)||(this.state.name="alert",this.state.tick=null),0===this.state.ticksBeforeYawn?(this.state.name="yawn",void(this.state.framesYawn=2)):0===this.state.ticksBeforeItch?(this.state.name="itch",this.state.framesItch=4,void(this.state.tick=1)):0===this.state.ticksBeforeScratch?(this.state.name="scratch",this.state.framesScratch=4,this.state.tick=1,void(this.state.direction=this.config.scratchDirection())):(this.state.ticksBeforeItch-=1,void(this.state.ticksBeforeScratch-=1))},t.prototype.updateItch=function(t,e){return this.checkState("itch"),this.cursorClose(t,e)?this.state.framesItch-1==0?(this.state.name="still",this.state.tick=null,this.state.framesItch=null,void(this.state.ticksBeforeItch=this.config.ticksBeforeItch())):(this.state.framesItch-=1,void(this.state.tick=1===this.state.tick?2:1)):(this.state.name="alert",this.state.tick=null,this.state.framesItch=null,void(this.state.ticksBeforeItch=this.config.ticksBeforeItch()))},t.prototype.updateAlert=function(t,e){if(this.checkState("alert"),this.cursorClose(t,e))return this.state.name="still",this.state.tick=null,void(this.state.direction=null);this.state.tick=1,this.state.name="run",this.state.direction=this.chooseRunDirection(t,e),this.makeStep(t,e)},t.prototype.updateRun=function(t,e){if(this.checkState("run"),this.cursorClose(t,e))return this.state.name="still",this.state.tick=null,void(this.state.direction=null);this.state.ticksBeforeYawn=Math.max(this.state.ticksBeforeYawn-1,0),this.state.direction=this.chooseRunDirection(t,e),this.state.tick=1===this.state.tick?2:1,this.makeStep(t,e)},t.prototype.makeStep=function(t,e){var s=t-this.state.x,i=e-this.state.y,r=Math.atan2(i,s);this.state.x+=this.config.speed*Math.cos(r),this.state.y+=this.config.speed*Math.sin(r)},t.prototype.cursorClose=function(t,e){return Math.hypot(this.state.x-t,this.state.y-e)<this.config.radius},t.prototype.chooseRunDirection=function(t,e){var s=t-this.state.x,i=e-this.state.y,r=Math.hypot(s,i),a=function(t,e){return 180*Math.atan2(e,t)/Math.PI}(s,i);switch(!0){case-22.5<a&&a<=22.5:return"e";case-67.5<a&&a<=-22.5:return"ne";case-112.5<a&&a<=-67.5:return"n";case-157.5<a&&a<=-112.5:return"nw";case-180<=a&&a<=-157.5||157.5<a&&a<=180:return"w";case 112.5<a&&a<=157.5:return"sw";case 67.5<a&&a<=112.5:return"s";case 22.5<a&&a<=67.5:return"se";default:throw Error("error in finding path direction "+r+" "+a)}},t.prototype.checkState=function(t){if(t!=this.state.name)throw Error("expected state: "+t+", got: "+this.state.name)},t}();e.Neko=a},function(t,e,s){"use strict";var i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var s in t)Object.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var r=i(s(0));function a(t,e){var s=0,i=0;document.onmousemove=function(t){s=t.x,i=t.y};var r=function(){var t=document.createElement("img");t.src="https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fpbs.twimg.com%2Fmedia%2FB8W6wUPCYAEmWjy.png%3Alarge&f=1&nofb=1";var e=t.style;return e.position="absolute",e.top="0px",e.left="0px",document.querySelector("body").appendChild(t),t}(),a=setInterval((function(){t.update(s,i),function(t,e,s){t.style.top=e.state.y+"px",t.style.left=e.state.x+"px",t.src=s+"/"+e.img+".gif"}(r,t,e)}),300);return function(){clearInterval(a),r.remove()}}e.runDefault=function(t){return void 0===t&&(t="/assets/socks"),a(r.defaultNeko(),t)},e.run=a}])}));